name: 'Weather Notification Action'
description: 'ğŸŒ¤ï¸ åŠŸèƒ½å¼ºå¤§çš„å¤©æ°”é€šçŸ¥Actionï¼ŒåŸºäºé«˜å¾·åœ°å›¾æ•°æ®æº'
author: 'Weather Notification Team'

branding:
  icon: 'cloud'
  color: 'blue'

inputs:
  # å¤©æ°”APIé…ç½®
  amap_api_key:
    description: 'é«˜å¾·åœ°å›¾APIå¯†é’¥'
    required: true
  
  # åŸå¸‚é…ç½®
  city:
    description: 'åŸå¸‚åç§°æˆ–6ä½åŸå¸‚ç¼–ç '
    required: false
    default: 'Beijing'
    
  # é‚®ä»¶æœåŠ¡å™¨é…ç½®
  smtp_host:
    description: 'SMTPæœåŠ¡å™¨åœ°å€'
    required: false
    default: 'smtp.gmail.com'
    
  smtp_port:
    description: 'SMTPç«¯å£å·'
    required: false
    default: '587'
    
  smtp_user:
    description: 'SMTPç”¨æˆ·åï¼ˆé‚®ç®±åœ°å€ï¼‰'
    required: true
    
  smtp_pass:
    description: 'SMTPå¯†ç æˆ–åº”ç”¨ä¸“ç”¨å¯†ç '
    required: true
    
  # æ”¶ä»¶äººé…ç½®
  recipient_emails:
    description: 'æ”¶ä»¶äººé‚®ç®±åœ°å€ï¼Œå¤šä¸ªé‚®ç®±ç”¨é€—å·åˆ†éš”'
    required: true
    
  # é‚®ä»¶é…ç½®
  email_subject:
    description: 'é‚®ä»¶ä¸»é¢˜ï¼ˆå¯é€‰ï¼‰'
    required: false
    
  sender_name:
    description: 'å‘ä»¶äººåç§°'
    required: false
    default: 'å¤©æ°”é€šçŸ¥åŠ©æ‰‹'

outputs:
  status:
    description: 'æ‰§è¡ŒçŠ¶æ€ (success/failure)'
  message:
    description: 'æ‰§è¡Œç»“æœæ¶ˆæ¯'
  weather_data:
    description: 'å¤©æ°”æ•°æ®JSONå­—ç¬¦ä¸²'
  recipients_count:
    description: 'æ”¶ä»¶äººæ•°é‡'

runs:
  using: 'node20'
  main: 'dist/index.js' 